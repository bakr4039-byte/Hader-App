<script>
    // إعدادات Firebase الخاصة بك
    const firebaseConfig = {
        apiKey: "AIzaSyAuOkZYWzjBTpuWdeibeEWC0tVR87byEEw",
        authDomain: "hader-system.firebaseapp.com",
        databaseURL: "https://hader-system-default-rtdb.firebaseio.com/", 
        projectId: "hader-system",
        storageBucket: "hader-system.firebasestorage.app",
        messagingSenderId: "1039709774940",
        appId: "1:1039709774940:web:078351fe5cb90593473299"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function addTeacher() {
        const name = document.getElementById('tName').value;
        const id = document.getElementById('tID').value;
        if(!name || !id) return alert("يرجى إكمال البيانات");

        // الحفظ في Firebase في نود تسمى teachers
        database.ref('teachers/' + id).set({
            name: name,
            id: id
        }).then(() => {
            alert("تمت الإضافة لقاعدة البيانات السحابية بنجاح");
            document.getElementById('tName').value = '';
            document.getElementById('tID').value = '';
        });
    }

    // جلب القائمة لعرضها وحذفها
    database.ref('teachers').on('value', (snapshot) => {
        const list = snapshot.val();
        const tableBody = document.getElementById('teacherTable');
        tableBody.innerHTML = "";
        for (let id in list) {
            tableBody.innerHTML += `
                <tr>
                    <td>${list[id].name}</td>
                    <td>${id}</td>
                    <td><button class="btn-delete" onclick="deleteTeacher('${id}')"><i class="fas fa-trash"></i></button></td>
                </tr>`;
        }
    });

    function deleteTeacher(id) {
        if(confirm("هل أنت متأكد من حذف هذا المعلم؟")) {
            database.ref('teachers/' + id).remove();
        }
    }
</script>