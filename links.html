<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† - Ù…Ø¬Ù…Ø¹ Ø£Ø¨ÙŠ Ø¨Ù† ÙƒØ¹Ø¨</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <style>
        .links-box { max-width: 900px; margin: 30px auto; background: white; padding: 25px; border-radius: 15px; text-align: center; }
        input { padding: 12px; margin: 5px; border-radius: 8px; border: 1px solid #ddd; width: 200px; font-family: inherit; }
        table { width: 100%; border-collapse: collapse; margin-top: 25px; }
        th, td { padding: 15px; border-bottom: 1px solid #eee; text-align: center; }
        .btn-action { padding: 6px 12px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>
    <div class="links-box">
        <h1>ğŸ”— Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h1>
        <div style="background:#f8f9fa; padding:15px; border-radius:10px;">
            <input type="text" id="teacher-n" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ">
            <input type="text" id="teacher-i" placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ">
            <button onclick="addNewTeacher()" style="background:#2c3e50; color:white; padding:12px 25px; border-radius:8px; border:none; cursor:pointer;">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù‚Ø§Ø¹Ø¯Ø©</button>
        </div>
        <table>
            <thead><tr><th>Ø§Ù„Ù…Ø¹Ù„Ù…</th><th>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead>
            <tbody id="links-list"></tbody>
        </table>
        <br><a href="admin.html" style="color:#3498db; font-weight:bold; text-decoration:none;">â¬…ï¸ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a>
    </div>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAuOkZYWzjBTpuWdeibeEWC0tVR87byEEw",
            authDomain: "hader-system.firebaseapp.com",
            projectId: "hader-system",
            storageBucket: "hader-system.firebasestorage.app",
            messagingSenderId: "1039709774940",
            appId: "1:1039709774940:web:078351fe5cb90593473299"
        };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        function addNewTeacher() { 
            const n = document.getElementById('teacher-n').value; 
            const i = document.getElementById('teacher-i').value;
            if(n && i) db.ref('teachers_list/' + i).set({ name: n, id: i }).then(() => {
                document.getElementById('teacher-n').value = ""; document.getElementById('teacher-i').value = "";
            });
        }
        db.ref('teachers_list').on('value', s => {
            const list = document.getElementById('links-list'); list.innerHTML = "";
            let baseUrl = window.location.href.split('links.html')[0];
            const data = s.val();
            for(let key in data) {
                const url = `${baseUrl}index.html?id=${data[key].id}&name=${encodeURIComponent(data[key].name)}`;
                list.innerHTML += `<tr><td><b>${data[key].name}</b></td><td>${data[key].id}</td>
                    <td><button class="btn-action" style="background:#3498db; color:white;" onclick="navigator.clipboard.writeText('${url}'); alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ø¨Ù†Ø¬Ø§Ø­')">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
                    <button class="btn-action" style="background:#e74c3c; color:white; margin-right:5px;" onclick="db.ref('teachers_list/${key}').remove()">ğŸ—‘ï¸ Ø­Ø°Ù</button></td></tr>`;
            }
        });
    </script>
</body>
</html>